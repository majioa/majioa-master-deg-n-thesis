DIVIDEXOR	PROC
	;IN:  AX-NUM
	;     BX-DIVIDER
	;OUT: AX-INT
	;     DX-DIV
	;     BP-WEIGHT
	PUSH	BX
	PUSH	CX
	PUSH	SI
	MOV	CX,17
	MOV	SI,CX
	PUSH	AX
DIVIDEXOR_1:
	DEC	CX
	SHL	AX,1
	JNC	DIVIDEXOR_1
	POP	DX
	PUSH	BX
DIVIDEXOR_2:
	DEC	SI
	SHL	BX,1
	JNC	DIVIDEXOR_2
	POP	BX
	XOR	AX,AX
	MOV	BP,AX
	STC
	RCL	BP,CL
	SUB	CX,SI
	JC	DIVIDEXOR_EXIT
	SHL	BX,CL
	INC	CX
DIVIDEXOR_4:
	TEST	DX,BP
	JZ	DIVIDEXOR_3
	XOR	DX,BX
	STC
DIVIDEXOR_3:
	RCL	AX,1
	SHR	BX,1
	SHR	BP,1
	LOOP	DIVIDEXOR_4
DIVIDEXOR_EXIT:
	XOR	BP,BP
	CALL	WEIGHT
	POP	SI
	POP	CX
	POP	BX
	RET
ENDP
WEIGHT	    PROC
	PUSH	CX
	MOV	CX,16
	XOR	BP,BP
WEIGHT_1:
	ROR	DX,1
	ADC	BP,0
	LOOP	WEIGHT_1
	POP	CX
	RET
ENDP
